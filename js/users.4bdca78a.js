(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"178a":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("pageHeader",{attrs:{title:"Gestione Utenti"}}),s("section",{staticClass:"bg-white mb-4 p-4 flex justify-between rounded-lg shadow-custom"},[s("div",{staticClass:"w-1/3"},[s("div",{staticClass:"relative"},[s("baseInput",{attrs:{name:"search",type:"search",placeholder:"Cerca tra gli utenti..."},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}}),s("div",{staticClass:"absolute top-2 left-2"},[s("svg",{staticClass:"w-4.5 h-4.5 text-gray-300 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M21.71,20.29,18,16.61A9,9,0,1,0,16.61,18l3.68,3.68a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,20.29ZM11,18a7,7,0,1,1,7-7A7,7,0,0,1,11,18Z"}})])])],1)]),s("div",{staticClass:"w-2/3 flex justify-end items-center space-x-3"},[s("baseSelectInput",{attrs:{name:"field",values:e.fieldVal},model:{value:e.filters.field,callback:function(t){e.$set(e.filters,"field",t)},expression:"filters.field"}}),s("baseSelectInput",{attrs:{name:"dir",values:e.dirVal},model:{value:e.filters.dir,callback:function(t){e.$set(e.filters,"dir",t)},expression:"filters.dir"}}),s("baseSelectInput",{attrs:{name:"perPage",values:e.perPageVal},model:{value:e.filters.perPage,callback:function(t){e.$set(e.filters,"perPage",t)},expression:"filters.perPage"}}),s("div",{staticClass:"cursor-pointer",on:{click:function(t){return e.toggleFiltersMenu()}}},[s("svg",{staticClass:"w-5 h-5 flex-none text-gray-400 hover:text-gray-500 transition",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M7,6H6V3A1,1,0,0,0,4,3V6H3A1,1,0,0,0,3,8H7A1,1,0,0,0,7,6ZM5,10a1,1,0,0,0-1,1V21a1,1,0,0,0,2,0V11A1,1,0,0,0,5,10Zm7,8a1,1,0,0,0-1,1v2a1,1,0,0,0,2,0V19A1,1,0,0,0,12,18Zm9-8H20V3a1,1,0,0,0-2,0v7H17a1,1,0,0,0,0,2h4a1,1,0,0,0,0-2Zm-2,4a1,1,0,0,0-1,1v6a1,1,0,0,0,2,0V15A1,1,0,0,0,19,14Zm-5,0H13V3a1,1,0,0,0-2,0V14H10a1,1,0,0,0,0,2h4a1,1,0,0,0,0-2Z"}})])])],1)]),e.users?s("div",{},[s("table",{staticClass:"w-full bg-white rounded-lg shadow-custom overflow-x-auto"},[s("tableHeader",{attrs:{columns:e.columns}}),e._l(e.users.data,(function(t,a){return s("tr",{key:a,staticClass:"text-gray-500 text-sm",class:[e.selectedUsers.includes(t)?"bg-indigo-50":"odd:bg-gray-100 even:bg-gray-50"]},[s("td",{staticClass:"pl-4 py-2 text-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers,expression:"selectedUsers"}],staticClass:"mt-2",attrs:{type:"checkbox",name:"selectedUsers"},domProps:{value:t,checked:Array.isArray(e.selectedUsers)?e._i(e.selectedUsers,t)>-1:e.selectedUsers},on:{change:function(s){var a=e.selectedUsers,r=s.target,l=!!r.checked;if(Array.isArray(a)){var n=t,i=e._i(a,n);r.checked?i<0&&(e.selectedUsers=a.concat([n])):i>-1&&(e.selectedUsers=a.slice(0,i).concat(a.slice(i+1)))}else e.selectedUsers=l}}})]),s("td",{staticClass:"p-2 text-center text-xs text-gray-400 font-semibold"},[e._v(" #"+e._s(t.id)+" ")]),s("td",{staticClass:"pl-5 py-2"},[s("userAvatar",{attrs:{user:t}})],1),s("td",{staticClass:"py-2 px-4"},[s("router-link",{attrs:{to:{name:"Users.show",params:{slug:t.slug}}}},[e._v(" "+e._s(t.name)+" ")])],1),s("td",{staticClass:"py-2 px-4 whitespace-nowrap"},[e._v(e._s(t.email))]),s("td",{staticClass:"py-2 px-4 whitespace-nowrap"},[e._v(e._s(t.phone_number))]),s("td",{staticClass:"py-2 px-4 whitespace-nowrap"},e._l(t.teams,(function(a){return s("div",{key:a.id,class:{"flex items-baseline space-x-2":t.teams}},[a.color?s("div",{staticClass:"w-2 h-2 rounded-full",style:"background:"+a.color}):e._e(),s("span",[e._v(e._s(a.name))])])})),0),s("td",{staticClass:"py-2 px-4 whitespace-nowrap"},[e._v(" "+e._s(e.$moment(t.created_at).format("DD/MM/YYYY, HH:mm"))+" ")]),s("td",{staticClass:"py-2 px-8"},[s("div",{staticClass:"relative flex justify-center"},[s("svg",{staticClass:"w-5 h-5 text-gray-400 hover:text-gray-500 transition cursor-pointer",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(t){return e.openMenu(a)}}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}})]),e.showMenuIndex===a?s("div",{staticClass:"p-2 rounded-lg shadow bg-white absolute top-5 right-0 flex flex-col z-10"},[s("router-link",{staticClass:"text-gray-400 hover:text-gray-500 hover:bg-gray-100 px-2 py-1.5 rounded-lg transition flex items-center space-x-1",attrs:{to:{name:"Users.show",params:{slug:t.slug}}}},[s("svg",{staticClass:"w-4.5 h-4.5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M21.92,11.6C19.9,6.91,16.1,4,12,4S4.1,6.91,2.08,11.6a1,1,0,0,0,0,.8C4.1,17.09,7.9,20,12,20s7.9-2.91,9.92-7.6A1,1,0,0,0,21.92,11.6ZM12,18c-3.17,0-6.17-2.29-7.9-6C5.83,8.29,8.83,6,12,6s6.17,2.29,7.9,6C18.17,15.71,15.17,18,12,18ZM12,8a4,4,0,1,0,4,4A4,4,0,0,0,12,8Zm0,6a2,2,0,1,1,2-2A2,2,0,0,1,12,14Z"}})]),s("span",[e._v("Dettagli")])]),s("router-link",{staticClass:"text-gray-400 hover:text-gray-500 hover:bg-gray-100 px-2 py-1.5 rounded-lg transition flex items-center space-x-1",attrs:{to:{name:"Users.edit",params:{slug:t.slug}}}},[s("svg",{staticClass:"w-4.5 h-4.5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M5,18H9.24a1,1,0,0,0,.71-.29l6.92-6.93h0L19.71,8a1,1,0,0,0,0-1.42L15.47,2.29a1,1,0,0,0-1.42,0L11.23,5.12h0L4.29,12.05a1,1,0,0,0-.29.71V17A1,1,0,0,0,5,18ZM14.76,4.41l2.83,2.83L16.17,8.66,13.34,5.83ZM6,13.17l5.93-5.93,2.83,2.83L8.83,16H6ZM21,20H3a1,1,0,0,0,0,2H21a1,1,0,0,0,0-2Z"}})]),s("span",[e._v("Modifica")])]),s("span",{staticClass:"block border-b border-gray-100 my-1"}),s("button",{staticClass:"text-gray-400 hover:text-red-500 hover:bg-red-100 px-2 py-1.5 rounded-lg transition flex items-center space-x-1",on:{click:function(s){return e.deleteUser(t,a)}}},[s("svg",{staticClass:"w-4.5 h-4.5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z"}})]),s("span",[e._v("Elimina")])])],1):e._e()])])])}))],2)]):e._e(),s("footer",{staticClass:"flex items-center m-4",class:[e.selectedUsers.length?"justify-between":"justify-end"]},[e.selectedUsers.length?s("div",{staticClass:"flex space-x-4 items-center"},[s("p",{staticClass:"text-gray-500 text-sm"},[e._v(e._s(e.selectedUsers.length)+" utenti selezionati")]),s("button",{staticClass:"bg-gray-200 rounded-lg p-0.5 text-gray-400 hover:bg-red-200 hover:text-red-500 transition",attrs:{title:"Elimina utenti"},on:{click:function(t){return e.deleteUsers()}}},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M20,6H16V5a3,3,0,0,0-3-3H11A3,3,0,0,0,8,5V6H4A1,1,0,0,0,4,8H5V19a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V8h1a1,1,0,0,0,0-2ZM10,5a1,1,0,0,1,1-1h2a1,1,0,0,1,1,1V6H10Zm7,14a1,1,0,0,1-1,1H8a1,1,0,0,1-1-1V8H17Z"}})])])]):e._e(),s("pagination",{staticClass:"flex space-x-4 text-gray-500",attrs:{data:e.users},on:{"pagination-change-page":e.getUsers}},[s("div",{staticClass:"bg-indigo-400 p-0.5 rounded-full text-white",attrs:{slot:"prev-nav"},slot:"prev-nav"},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M11.29,12l3.54-3.54a1,1,0,0,0,0-1.41,1,1,0,0,0-1.42,0L9.17,11.29a1,1,0,0,0,0,1.42L13.41,17a1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41Z"}})])]),s("div",{staticClass:"bg-indigo-400 p-0.5 rounded-full text-white",attrs:{slot:"next-nav"},slot:"next-nav"},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"}})])])])],1),s("aside",{staticClass:"fixed transition duration-200 ease-in-out right-0 bottom-0 h-screen transform w-64 bg-c-light-gray text-gray-200",class:{"translate-x-full":!e.filtersMenu}},[s("div",{staticClass:"mt-36 px-4 py-2.5"},[s("header",{staticClass:"mb-10"},[s("div",{staticClass:"flex items-center space-x-2 text-gray-500"},[s("div",{staticClass:"hover:text-gray-400 hover:border-gray-400 transition border p-1 rounded-lg border-gray-500 cursor-pointer",on:{click:function(t){return e.toggleFiltersMenu()}}},[s("svg",{staticClass:"w-5 h-5 flex-none",attrs:{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M17.92,11.62a1,1,0,0,0-.21-.33l-5-5a1,1,0,0,0-1.42,1.42L14.59,11H7a1,1,0,0,0,0,2h7.59l-3.3,3.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0l5-5a1,1,0,0,0,.21-.33A1,1,0,0,0,17.92,11.62Z"}})])]),s("span",[e._v("Filtri")])])]),s("div",{staticClass:"space-y-5"},[s("div",[s("label",{staticClass:"text-gray-500 mb-1 block text-sm",attrs:{for:"team"}},[e._v(" Filtra per team ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.team,expression:"filters.team"}],staticClass:"text-gray-400 bg-c-light-gray p-2 text-sm rounded-lg focus:outline-none border border-gray-700 focus:border-gray-600 transition w-full",attrs:{name:"team"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filters,"team",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[e._v("Filtra per team")]),e._l(e.teams,(function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)]),s("div",[s("label",{staticClass:"text-gray-500 mb-1 block text-sm",attrs:{for:"role"}},[e._v(" Filtra per ruolo ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.filters.role,expression:"filters.role"}],staticClass:"text-gray-400 bg-c-light-gray p-2 text-sm rounded-lg focus:outline-none border border-gray-700 focus:border-gray-600 transition w-full",attrs:{name:"team"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filters,"role",t.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[e._v("Filtra per ruolo")]),e._l(e.roles,(function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)])])])])],1)},r=[],l=(s("b0c0"),s("348e")),n=s("6a0d"),i=s("dff9"),o=s("d1b8"),c=s("3dec"),u={name:"Dashboard.Users.Index",components:{pageHeader:n["a"],tableHeader:l["a"],baseInput:i["a"],baseSelectInput:o["a"],userAvatar:c["a"]},data:function(){return{filtersMenu:!1,selectedUsers:[],filters:{search:"",perPage:10,field:"ID",dir:"asc",team:"",role:""},columns:["","ID","avatar","nome","email","telefono","team","registrato il",""],fieldVal:["ID","Nome","Email","Data"],dirVal:["asc","desc"],perPageVal:[10,20,30,50],showMenuIndex:null}},mounted:function(){this.getUsers(),this.getAllTeams(),this.getRoles()},watch:{"filters.search":function(){this.getUsers()},"filters.role":function(){this.getUsers()},"filters.team":function(){this.getUsers()},"filters.field":function(){this.getUsers()},"filters.dir":function(){this.getUsers()},"filters.perPage":function(){this.getUsers()}},computed:{users:function(){return this.$store.getters["users/users"]},teams:function(){return this.$store.getters["users/teams"]},roles:function(){return this.$store.getters["roles/roles"]}},methods:{getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("users/getUsers",{filters:this.filters,page:e})},getAllTeams:function(){this.$store.dispatch("users/getAllTeams")},getRoles:function(){this.$store.dispatch("roles/getRoles")},deleteUser:function(e,t){confirm("Eliminare "+e.name+"?")&&(this.$store.dispatch("users/deleteUser",{id:e.id,index:t}),this.showMenuIndex=null)},deleteUsers:function(){confirm("Eliminare "+this.selectedUsers.length+" utenti?")&&(this.$store.dispatch("users/deleteUsers",{users:this.selectedUsers}),this.selectedUsers=[])},toggleFiltersMenu:function(){this.filtersMenu=!this.filtersMenu},openMenu:function(e){this.showMenuIndex==e?this.showMenuIndex=null:this.showMenuIndex=e}}},d=u,p=s("2877"),g=Object(p["a"])(d,a,r,!1,null,null,null);t["default"]=g.exports},"348e":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",{staticClass:"border-b border-gray-100"},e._l(e.columns,(function(t,a){return s("th",{key:a,staticClass:"text-indigo-400 p-4 text-xs uppercase font-normal tracking-wider whitespace-nowrap max-w-max text-left"},[e._v(" "+e._s(t)+" ")])})),0)},r=[],l={name:"Layouts.tHeader",props:{columns:{type:Array,required:!0}}},n=l,i=s("2877"),o=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports},"3dec":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center space-x-2"},[s("div",{staticClass:"flex-none"},[s("img",{class:e.classes,attrs:{src:e.avatar,alt:"user_avatar"}})]),e.name?s("span",{staticClass:"text-gray-500 text-sm"},[e._v(e._s(e.name))]):e._e()])},r=[],l=(s("b0c0"),{name:"Layouts.userAvatar",props:{user:{type:Object,required:!0,default:"Undefined"},name:{type:String,required:!1},classes:{type:String,required:!1,default:"w-9 h-9 rounded-full"}},computed:{avatar:function(){return this.user.avatar?this.user.avatar:"https://eu.ui-avatars.com/api/?name="+this.user.name+"&color=818cf8&background=ccd1fc"}}}),n=l,i=s("2877"),o=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports},"6a0d":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"mb-6",class:{"flex items-baseline space-x-4":e.routes}},[s("h2",{staticClass:"text-xl text-gray-700"},[e._v(" "+e._s(e.title)+" ")]),e.routes?s("section",{staticClass:"flex items-center space-x-0.5 text-sm"},[e._l(e.routes,(function(t,a){return s("div",{key:a,staticClass:"flex items-center space-x-0.5"},[s("router-link",{staticClass:"text-gray-400 hover:text-gray-500 transition",attrs:{to:t.to}},[e._v(" "+e._s(t.text)+" ")]),s("svg",{staticClass:"w-4 h-4 flex-none text-gray-400 mt-0.5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"}})])],1)})),s("span",{staticClass:"text-indigo-400"},[e._v(e._s(e.resource))])],2):e._e()])},r=[],l={name:"Layouts.pageHeader",props:{title:{type:String,default:"Header"},routes:{type:Array,required:!1},resource:{type:String,default:null,required:!1}}},n=l,i=s("2877"),o=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports},d1b8:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.label?s("label",{staticClass:"text-sm text-gray-400",attrs:{for:e.name}},[e._v(" "+e._s(e.label)+" ")]):e._e(),s("select",{staticClass:"text-gray-500 px-2 py-1.5 text-sm rounded-lg focus:outline-none border focus:border-gray-300 transition w-full",attrs:{name:e.name},on:{input:e.updateValue}},[e.text?s("option",{attrs:{value:""}},[e._v(e._s(e.text))]):e._e(),e._l(e.values,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])},r=[],l={name:"Layouts.baseSelectInput",props:{name:{type:String,required:!0},text:{type:String,required:!1},values:{type:Array,required:!0},label:{type:String,default:null,required:!1}},methods:{updateValue:function(e){return this.$emit("input",e.target.value)}}},n=l,i=s("2877"),o=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports},dff9:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.label?s("label",{staticClass:"text-xs text-gray-400",attrs:{for:e.name}},[e._v(" "+e._s(e.label)+" ")]):e._e(),s("input",{staticClass:"border border-gray-200 rounded-lg px-2 py-1.5 text-sm w-full transition focus:outline-none focus:border-gray-400",class:{"pl-8":"search"==e.type},attrs:{type:e.type,name:e.name,required:e.required,placeholder:e.placeholder},on:{input:e.updateValue}})])},r=[],l={name:"Layouts.baseInput",props:{type:{type:String,default:"text"},name:{type:String,required:!0},label:{type:String,default:null,required:!1},required:{type:String,default:null,required:!1},placeholder:{type:String,default:null,required:!1}},methods:{updateValue:function(e){return this.$emit("input",e.target.value)}}},n=l,i=s("2877"),o=Object(i["a"])(n,a,r,!1,null,null,null);t["a"]=o.exports}}]);
//# sourceMappingURL=users.4bdca78a.js.map