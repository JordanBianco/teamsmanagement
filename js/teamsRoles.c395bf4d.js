(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["teamsRoles"],{"3dec":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"flex items-center space-x-2"},[s("div",{staticClass:"flex-none"},[s("img",{class:e.classes,attrs:{src:e.avatar,alt:"user_avatar"}})]),e.name?s("span",{staticClass:"text-gray-500 text-sm"},[e._v(e._s(e.name))]):e._e()])},r=[],n=(s("b0c0"),{name:"Layouts.userAvatar",props:{user:{type:Object,required:!0,default:"Undefined"},name:{type:String,required:!1},classes:{type:String,required:!1,default:"w-9 h-9 rounded-full"}},computed:{avatar:function(){return this.user.avatar?this.user.avatar:"https://eu.ui-avatars.com/api/?name="+this.user.name+"&color=818cf8&background=ccd1fc"}}}),i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=l.exports},"6a0d":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"mb-6",class:{"flex items-baseline space-x-4":e.routes}},[s("h2",{staticClass:"text-xl text-gray-700"},[e._v(" "+e._s(e.title)+" ")]),e.routes?s("section",{staticClass:"flex items-center space-x-0.5 text-sm"},[e._l(e.routes,(function(t,a){return s("div",{key:a,staticClass:"flex items-center space-x-0.5"},[s("router-link",{staticClass:"text-gray-400 hover:text-gray-500 transition",attrs:{to:t.to}},[e._v(" "+e._s(t.text)+" ")]),s("svg",{staticClass:"w-4 h-4 flex-none text-gray-400 mt-0.5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{fill:"currentColor",d:"M14.83,11.29,10.59,7.05a1,1,0,0,0-1.42,0,1,1,0,0,0,0,1.41L12.71,12,9.17,15.54a1,1,0,0,0,0,1.41,1,1,0,0,0,.71.29,1,1,0,0,0,.71-.29l4.24-4.24A1,1,0,0,0,14.83,11.29Z"}})])],1)})),s("span",{staticClass:"text-indigo-400"},[e._v(e._s(e.resource))])],2):e._e()])},r=[],n={name:"Layouts.pageHeader",props:{title:{type:String,default:"Header"},routes:{type:Array,required:!1},resource:{type:String,default:null,required:!1}}},i=n,o=s("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);t["a"]=l.exports},"7db0":function(e,t,s){"use strict";var a=s("23e7"),r=s("b727").find,n=s("44d2"),i="find",o=!0;i in[]&&Array(1)[i]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(i)},bbe6:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.team?s("div",[s("pageHeader",{attrs:{title:"Ruoli "+e.team.name,routes:[{to:{name:"Teams"},text:"Gestione teams"},{to:{name:"Teams.show",params:{slug:e.team.slug}},text:e.team.name}],resource:"gestione ruoli"}}),e._l(e.team.users,(function(t){return s("div",{key:t.id,staticClass:"bg-gray-50 p-4 rounded-lg flex items-center justify-between space-x-10 mb-4"},[s("div",{staticClass:"flex items-start space-x-4"},[s("userAvatar",{attrs:{user:t,classes:"w-8 h-8 rounded-full flex-none"}}),s("div",{staticClass:"text-sm "},[s("router-link",{staticClass:"block",attrs:{to:{name:"Users.show",params:{slug:t.slug}}}},[s("span",{staticClass:"text-gray-600"},[e._v(e._s(t.name))])]),s("span",{staticClass:"text-gray-400 block"},[e._v(e._s(t.email))])],1)],1),s("div",{staticClass:"flex items-center space-x-2"},[s("changeRole",{attrs:{user:t,team:e.team}})],1)])}))],2):e._e()])},r=[],n=s("6a0d"),i=s("3dec"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("select",{directives:[{name:"model",rawName:"v-model",value:e.role_id,expression:"role_id"}],staticClass:"text-gray-500 px-2 py-1.5 text-sm rounded-lg focus:outline-none border focus:border-gray-300 transition max-w-max",attrs:{name:"role"},on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role_id=t.target.multiple?s:s[0]},function(t){return e.updateRole()}]}},[s("option",{attrs:{value:""}},[e._v("Cambia ruolo")]),e._l(e.roles,(function(t,a){return s("option",{key:a,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])},l=[],u=(s("7db0"),s("d3b7"),{name:"changeRole",props:{user:{type:Object,required:!0},team:{type:Object,required:!0}},mounted:function(){this.getRoles()},data:function(){return{role_id:""}},computed:{roles:function(){return this.$store.getters["roles/roles"]}},methods:{getRoles:function(){this.$store.dispatch("roles/getRoles")},updateRole:function(){this.$store.dispatch("roles/updateRole",{team:this.team,user:this.user,role_id:this.role_id})},role:function(){var e=this;return this.user.roles.find((function(t){return t.pivot.team_id==e.team.id}))}}}),c=u,d=s("2877"),m=Object(d["a"])(c,o,l,!1,null,null,null),p=m.exports,f={name:"Dashboard.Teams.Roles",props:{slug:{type:String,required:!0}},components:{pageHeader:n["a"],userAvatar:i["a"],changeRole:p},mounted:function(){this.getTeam()},computed:{team:function(){return this.$store.getters["teams/team"]}},methods:{getTeam:function(){this.$store.dispatch("teams/getTeam",{slug:this.slug})}}},v=f,g=Object(d["a"])(v,a,r,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=teamsRoles.c395bf4d.js.map